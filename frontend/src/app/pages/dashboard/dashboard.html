
<div class="layout">

  <!-- ASIDE Reutilizable -->
  <app-aside></app-aside>


  <!-- CONTENIDO PRINCIPAL -->
  <div class="content">
    <!-- TOPBAR Reutilizable -->
    <app-topbar></app-topbar>


    <!-- CONTENIDO INTERIOR -->
    <main class="content-inner">

      <!-- ========== VISTA 1: DASHBOARD ========== -->
      <div id="view-dashboard" class="view-container active">
        <!-- RESUMEN DE MÉTRICAS -->
        <div class="section-header" data-aos="fade-up">
          <div>
            <h2>Resumen de hoy</h2>
            <small>Estado general del negocio en las últimas 24 horas.</small>
          </div>
          <button class="btn btn-sm btn-outline-secondary">
            <i class="fa-solid fa-rotate me-1"></i> Actualizar datos
          </button>
        </div>

        <div class="row g-3 mb-4">
          <div class="col-md-3" data-aos="fade-up" data-aos-delay="0">
            <div class="card card-metric">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="metric-label">Productos activos</div>
                  <div class="metric-value" >48</div>
                  <div class="metric-trend text-success">
                    <i class="fa-solid fa-arrow-up me-1"></i> +5 nuevos
                  </div>
                </div>
                <div class="card-metric-icon bg-soft-primary">
                  <i class="fa-solid fa-chair"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-3" data-aos="fade-up" data-aos-delay="100">
            <div class="card card-metric">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="metric-label">Clientes registrados</div>
                  <div class="metric-value" >132</div>
                  <div class="metric-trend text-success">
                    <i class="fa-solid fa-user-plus me-1"></i> +3 hoy
                  </div>
                </div>
                <div class="card-metric-icon bg-soft-success">
                  <i class="fa-solid fa-user-group"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-3" data-aos="fade-up" data-aos-delay="200">
            <div class="card card-metric">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="metric-label">Pedidos del mes</div>
                  <div class="metric-value" >27</div>
                  <div class="metric-trend text-warning">
                    <i class="fa-solid fa-clock me-1"></i> 6 en progreso
                  </div>
                </div>
                <div class="card-metric-icon bg-soft-warning">
                  <i class="fa-solid fa-file-invoice-dollar"></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-3" data-aos="fade-up" data-aos-delay="300">
            <div class="card card-metric">
              <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                  <div class="metric-label">Ingresos aprox. (S/)</div>
                  <div class="metric-value" >18,450</div>
                  <div class="metric-trend text-success">
                    <i class="fa-solid fa-arrow-up-right-dots me-1"></i> +12% vs mes anterior
                  </div>
                </div>
                <div class="card-metric-icon bg-soft-info">
                  <i class="fa-solid fa-sack-dollar"></i>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- GRÁFICOS Y PANELES -->
        <div class="row g-3 mb-4">
          <div class="col-lg-8" data-aos="fade-up">
            <div class="card card-soft h-100">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <div>
                    <h6 class="mb-0">Pedidos por mes</h6>
                    <small class="text-muted">Últimos 6 meses</small>
                  </div>
                  <div class="dropdown">
                    <button class="btn btn-sm btn-light dropdown-toggle" data-bs-toggle="dropdown">
                      Ver: 6 meses
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                      <li><a class="dropdown-item" href="#">Últimos 3 meses</a></li>
                      <li><a class="dropdown-item" href="#">Últimos 6 meses</a></li>
                      <li><a class="dropdown-item" href="#">Último año</a></li>
                    </ul>
                  </div>
                </div>
                <canvas id="ordersChart" height="140"></canvas>
              </div>
            </div>
          </div>

          <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
            <div class="card card-soft h-100">
              <div class="card-body">
                <h6 class="mb-2">Distribución de productos</h6>
                <small class="text-muted d-block mb-2">Por categoría principal</small>
                <canvas id="productsChart" height="180"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- TABLA + TAREAS -->
        <div class="row g-3">
          <div class="col-lg-8" data-aos="fade-up">
            <div class="card card-soft">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h6 class="mb-0">Últimos pedidos</h6>
                  <a href="#" class="small text-decoration-none">Ver todos</a>
                </div>

                <div class="table-responsive">
                  <table class="table table-sm align-middle mb-0">
                    <thead>
                    <tr>
                      <th>Cliente</th>
                      <th>Proyecto</th>
                      <th>Fecha</th>
                      <th>Estado</th>
                      <th class="text-end">Total (S/)</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                      <td>Lucía Morales</td>
                      <td>Cocina integral</td>
                      <td>26/11</td>
                      <td><span class="status-badge bg-success-subtle text-success">En producción</span></td>
                      <td class="text-end">7,800</td>
                    </tr>
                    <tr>
                      <td>Carlos Peña</td>
                      <td>Mobiliario cafetería</td>
                      <td>25/11</td>
                      <td><span class="status-badge bg-warning-subtle text-warning">Diseño</span></td>
                      <td class="text-end">5,450</td>
                    </tr>
                    <tr>
                      <td>Andrea Salas</td>
                      <td>Restauración comedor</td>
                      <td>24/11</td>
                      <td><span class="status-badge bg-info-subtle text-info">Entregado</span></td>
                      <td class="text-end">2,300</td>
                    </tr>
                    <tr>
                      <td>Pedro Díaz</td>
                      <td>Closet empotrado</td>
                      <td>23/11</td>
                      <td><span class="status-badge bg-secondary-subtle text-secondary">Cotización</span></td>
                      <td class="text-end">1,950</td>
                    </tr>
                    </tbody>
                  </table>
                </div>

              </div>
            </div>
          </div>

          <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
            <div class="card card-soft mb-3">
              <div class="card-body">
                <h6 class="mb-2">Tareas pendientes</h6>
                <small class="text-muted d-block mb-2">Hoy</small>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item px-0 d-flex justify-content-between">
                    <span><i class="fa-regular fa-square me-2"></i> Llamar a proveedor de madera</span>
                    <span class="badge bg-light text-muted">09:30</span>
                  </li>
                  <li class="list-group-item px-0 d-flex justify-content-between">
                    <span><i class="fa-regular fa-square me-2"></i> Enviar cotización a Sr. Díaz</span>
                    <span class="badge bg-light text-muted">11:00</span>
                  </li>
                  <li class="list-group-item px-0 d-flex justify-content-between">
                    <span><i class="fa-regular fa-square me-2"></i> Revisar diseño de cafetería</span>
                    <span class="badge bg-light text-muted">15:00</span>
                  </li>
                </ul>
              </div>
            </div>

            <div class="card card-soft">
              <div class="card-body">
                <h6 class="mb-2">Notas rápidas</h6>
                <textarea class="form-control form-control-sm mb-2" rows="3"
                          placeholder="Apunta ideas, medidas o recordatorios breves..."></textarea>
                <button class="btn btn-sm btn-outline-secondary w-100">
                  <i class="fa-regular fa-floppy-disk me-1"></i> Guardar nota
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ========== VISTA 2: LÍNEAS DE DISEÑO ========== -->
      <div th:replace="~{dashboard/linea :: mainLinea}"></div>

      <!-- ========== VISTA 3: CATEGORÍAS ========== -->
      <div th:replace="~{dashboard/categoria :: mainCategoria}"></div>

      <!-- ========== VISTA 4: PRODUCTOS ========== -->
      <div th:replace="~{dashboard/productos :: mainProducto}"></div>

      <!-- ========== VISTA 5: EMPLEADOS  ========== -->
      <div th:replace="~{dashboard/empleados :: mainEmpleados}"></div>


      <!-- ========== VISTA 6: PEDIDOS ========== -->
      <div id="view-pedidos" class="view-container">
        <div class="section-header" data-aos="fade-up">
          <div>
            <h2>Pedidos</h2>
            <small>Gestiona y sigue los pedidos de tus clientes</small>
          </div>
          <button class="btn btn-sm btn-primary">
            <i class="fa-solid fa-plus me-1"></i> Nuevo Pedido
          </button>
        </div>

        <!-- En construcción -->
        <div class="card card-soft text-center py-5" data-aos="fade-up">
          <div class="card-body">
            <i class="fa-solid fa-tools display-4 text-muted mb-3"></i>
            <h4>En Construcción</h4>
            <p class="text-muted mb-0">La vista de pedidos estará disponible próximamente.</p>
          </div>
        </div>
      </div>

      <!-- ========== VISTA 7: USUARIOS ========== -->
      <div id="view-usuarios" class="view-container">
        <div class="section-header" data-aos="fade-up">
          <div>
            <h2>Usuarios</h2>
            <small>Administra los usuarios del sistema</small>
          </div>
          <button class="btn btn-sm btn-primary">
            <i class="fa-solid fa-plus me-1"></i> Nuevo Usuario
          </button>
        </div>

        <!-- En construcción -->
        <div class="card card-soft text-center py-5" data-aos="fade-up">
          <div class="card-body">
            <i class="fa-solid fa-tools display-4 text-muted mb-3"></i>
            <h4>En Construcción</h4>
            <p class="text-muted mb-0">La vista de usuarios estará disponible próximamente.</p>
          </div>
        </div>
      </div>

      <!-- ========== VISTA 8: CONFIGURACIÓN ========== -->
      <div id="view-configuracion" class="view-container">
        <div class="section-header" data-aos="fade-up">
          <div>
            <h2>Configuración</h2>
            <small>Configura los parámetros del sistema</small>
          </div>
        </div>

        <!-- En construcción -->
        <div class="card card-soft text-center py-5" data-aos="fade-up">
          <div class="card-body">
            <i class="fa-solid fa-tools display-4 text-muted mb-3"></i>
            <h4>En Construcción</h4>
            <p class="text-muted mb-0">La vista de configuración estará disponible próximamente.</p>
          </div>
        </div>
      </div>

    </main>
  </div>
</div>
