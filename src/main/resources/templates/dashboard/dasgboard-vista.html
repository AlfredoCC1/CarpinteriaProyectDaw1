<!DOCTYPE html>
<html lang="es">
<body>
<!-- ========== VISTA 1: DASHBOARD ========== -->
<div th:fragment="mainDashboard" id="viewDashboard">
    <div class="section-header" data-aos="fade-up">
        <div>
            <h2>Resumen de hoy</h2>
            <small>Estado general del negocio en las últimas 24 horas.</small>
        </div>

        <div class="d-flex align-items-center gap-2">
            <select id="selectMes" class="form-select form-select-sm">
                <option value="1">Enero</option>
                <option value="2">Febrero</option>
                <option value="3">Marzo</option>
                <option value="4">Abril</option>
                <option value="5">Mayo</option>
                <option value="6">Junio</option>
                <option value="7">Julio</option>
                <option value="8">Agosto</option>
                <option value="9">Septiembre</option>
                <option value="10">Octubre</option>
                <option value="11">Noviembre</option>
                <option value="12">Diciembre</option>
            </select>

            <select id="selectAnio" class="form-select form-select-sm">
                <option value="2022">2022</option>
                <option value="2023">2023</option>
                <option value="2024">2024</option>
                <option value="2025">2025</option>
                <option value="2026">2026</option>
                <option value="2027">2027</option>
                <option value="2028">2028</option>
                <option value="2029">2029</option>
                <option value="2030">2030</option>
            </select>

            <button class="btn btn-sm btn-outline-secondary" id="btnRefrescar">
                <i class="fa-solid fa-rotate me-1"></i> Actualizar datos
            </button>
        </div>
    </div>

    <div class="row g-3 mb-4">
        <div class="col-md-3">
            <div class="card card-metric">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <div class="metric-label">Productos activos</div>
                        <div id="totalProductos" class="metric-value">24</div>
                    </div>
                    <div class="card-metric-icon bg-soft-primary">
                        <i class="fa-solid fa-chair"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card card-metric">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <div class="metric-label">Clientes registrados</div>
                        <div id="totalClientes" class="metric-value">10</div>
                    </div>
                    <div class="card-metric-icon bg-soft-success">
                        <i class="fa-solid fa-user-group"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card card-metric">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <div class="metric-label">Pedidos del mes</div>
                        <div id="pedidosMes" class="metric-value">15</div>
                    </div>
                    <div class="card-metric-icon bg-soft-warning">
                        <i class="fa-solid fa-file-invoice-dollar"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card card-metric">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <div class="metric-label">Ingresos (S/)</div>
                        <div id="ingresosMes" class="metric-value">12,500.00</div>
                    </div>
                    <div class="card-metric-icon bg-soft-info">
                        <i class="fa-solid fa-sack-dollar"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- GRÁFICOS -->
    <div class="row g-3 mb-4">
        <div class="col-lg-8" data-aos="fade-up">
            <div class="card card-soft h-100">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div>
                            <h6 class="mb-0">Actividad del mes</h6>
                            <small class="text-muted">Pedidos vs productos vendidos</small>
                        </div>
                    </div>
                    <canvas id="ordersChart" height="140"></canvas>
                </div>
            </div>
        </div>

        <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
            <div class="card card-soft h-100">
                <div class="card-body">
                    <h6 class="mb-2">Productos más vendidos</h6>
                    <small class="text-muted d-block mb-2">Top por cantidad</small>
                    <canvas id="productsChart" height="180"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- TABLA + TAREAS -->
    <div class="row g-3">
        <div class="col-lg-8" data-aos="fade-up">
            <div class="card card-soft">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 class="mb-0">Últimos pedidos</h6>
                        <a href="#" class="small text-decoration-none">Ver todos</a>
                    </div>

                    <div class="table-responsive">
                        <table class="table table-sm align-middle mb-0">
                            <thead>
                            <tr>
                                <th>Cliente</th>
                                <th>Proyecto</th>
                                <th>Fecha</th>
                                <th>Estado</th>
                                <th class="text-end">Total (S/)</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>Lucía Morales</td>
                                <td>Cocina integral</td>
                                <td>26/11</td>
                                <td><span class="status-badge bg-success-subtle text-success">En producción</span></td>
                                <td class="text-end">7,800</td>
                            </tr>
                            <tr>
                                <td>Carlos Peña</td>
                                <td>Mobiliario cafetería</td>
                                <td>25/11</td>
                                <td><span class="status-badge bg-warning-subtle text-warning">Diseño</span></td>
                                <td class="text-end">5,450</td>
                            </tr>
                            <tr>
                                <td>Andrea Salas</td>
                                <td>Restauración comedor</td>
                                <td>24/11</td>
                                <td><span class="status-badge bg-info-subtle text-info">Entregado</span></td>
                                <td class="text-end">2,300</td>
                            </tr>
                            <tr>
                                <td>Pedro Díaz</td>
                                <td>Closet empotrado</td>
                                <td>23/11</td>
                                <td><span class="status-badge bg-secondary-subtle text-secondary">Cotización</span></td>
                                <td class="text-end">1,950</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
            <div class="card card-soft mb-3">
                <div class="card-body">
                    <h6 class="mb-2">Tareas pendientes</h6>
                    <small class="text-muted d-block mb-2">Hoy</small>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item px-0 d-flex justify-content-between">
                            <span><i class="fa-regular fa-square me-2"></i> Llamar a proveedor de madera</span>
                            <span class="badge bg-light text-muted">09:30</span>
                        </li>
                        <li class="list-group-item px-0 d-flex justify-content-between">
                            <span><i class="fa-regular fa-square me-2"></i> Enviar cotización a Sr. Díaz</span>
                            <span class="badge bg-light text-muted">11:00</span>
                        </li>
                        <li class="list-group-item px-0 d-flex justify-content-between">
                            <span><i class="fa-regular fa-square me-2"></i> Revisar diseño de cafetería</span>
                            <span class="badge bg-light text-muted">15:00</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card card-soft">
                <div class="card-body">
                    <h6 class="mb-2">Notas rápidas</h6>
                    <textarea class="form-control form-control-sm mb-2" rows="3"
                              placeholder="Apunta ideas, medidas o recordatorios breves..."></textarea>
                    <button class="btn btn-sm btn-outline-secondary w-100">
                        <i class="fa-regular fa-floppy-disk me-1"></i> Guardar nota
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ========== FIN VISTA DASHBOARD ========== -->
</body>
</html>